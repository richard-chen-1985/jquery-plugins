!function(t){function e(e){this.mask=t('<div class="ui-sharepop-mask">'),this.modal=t('<div class="ui-sharepop-modal"><div class="ui-sharepop-hd">分享到：</div><div class="ui-sharepop-cont"></div><div class="ui-sharepop-close">×</div></div>'),this.opts=t.extend({},e),this.init()}var i={sinaweibo:{url:"http://v.t.sina.com.cn/share/share.php?appkey=583395093&title={{content}}&url={{url}}&source=bshare&retcode=0&pic={{pic}}",text:"新浪微博"},qqweibo:{url:"http://v.t.qq.com/share/share.php?title={{content}}&site={{url}}&pic={{pic}}&url={{url}}&appkey=dcba10cb2d574a48a16f24c9b6af610c",text:"腾讯微博"},renren:{url:"http://widget.renren.com/dialog/share?resourceUrl={{url}}&title={{content}}&images={{pic}}&description={{content}}",text:"人人网"},qzone:{url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{url}}&title={{content}}&pics={{pic}}&summary={{content}}",text:"QQ空间"},kaixin001:{url:"http://www.kaixin001.com/rest/records.php?url={{url}}&content={{content}}&pic={{pic}}&aid=100013770&style=111",text:"开心网"},douban:{url:"http://www.douban.com/recommend/?url={{url}}&title={{content}}&v=1",text:"豆瓣"},meilishuo:{url:"http://www.meilishuo.com/meilishuo_share?siteurl={{url}}&content={{content}}",text:"美丽说"},mogujie:{url:"http://www.mogujie.com/mshare?url={{url}}&content={{content}}&from=mogujie&pic={{pic}}",text:"蘑菇街"},facebook:{url:"http://www.facebook.com/share.php?src=360buy&u={{url}}",text:"facebook"},twitter:{url:"http://twitter.com/intent/tweet?text={{content}}&url={{url}}",text:"twitter"},googleplus:{url:"https://plus.google.com/share?url={{url}}&hl=zh-CN",text:"googleplus"},pinterest:{url:"https://pinterest.com/login/?next=/pin/create/bookmarklet/?media=&url={{url}}&alt=&title={{content}}&is_video=false",text:"pinterest"}},o='<a href="javascript:;" class="share-btn share-btn-{{name}}" data-name="{{name}}"><i></i><em>{{text}}</em></a>',n=/MSIE 6/.test(navigator.userAgent);e.prototype={constructor:e,init:function(){var t=[];for(var e in i)t.push(o.replace(/{{name}}/g,e).replace(/{{text}}/,i[e].text));this.modal.find(".ui-sharepop-cont").append(t.join("")),this.bindEvents()},bindEvents:function(){var e=this,o=this.modal,n=this.opts;o.find(".share-btn").bind("click",function(){var e=i[t(this).attr("data-name")].url;return e=e.replace(/{{content}}/g,n.content),e=e.replace(/{{url}}/g,n.url),e=e.replace(/{{pic}}/g,n.pic),window.open(e,"newwindow","width=1000,height=800,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no"),!1}),o.find(".ui-sharepop-close").bind("click",function(){e.close()}),this.mask.bind("click",function(){e.close()})},show:function(){t("body").append(this.mask).append(this.modal),this.loadStyle()},loadStyle:function(){var e=this.modal,i=this.mask,o=e.outerWidth(),r=e.outerHeight(),s={position:"fixed",width:"100%",height:"100%",top:"0",left:"0",background:"#000",opacity:"0.5",filter:"alpha(opacity=50)","z-index":99999},a={position:"fixed",top:"50%",left:"50%",background:"#fff","margin-top":-r/2,"margin-left":-o/2,"z-index":1e5};if(n){var l=document.documentElement,c=Math.max(l.scrollWidth,l.clientWidth),p=Math.max(l.scrollHeight,l.clientHeight);t.extend(s,{position:"absolute",width:c,height:p}),t.extend(a,{position:"absolute",left:(c-o)/2,"margin-top":0,"margin-left":0}),e.get(0).style.setExpression("top","documentElement.scrollTop+(documentElement.clientHeight-this.clientHeight)/2")}i.css(s),e.css(a)},close:function(){this.mask.remove(),this.modal.remove()}},t.sharePop=function(t){new e(t).show()}}(jQuery);